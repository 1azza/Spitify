!function(t){function e(e){for(var n,i,o=e[0],a=e[1],s=0,u=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(c&&c(e);u.length;)u.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(t){return i.p+""+({1:"vendors~lp-sdk"}[t]||t)+".js"}(t);var c=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.
("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,n[1](c)}r[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var o=globalThis.webpackJsonp=globalThis.webpackJsonp||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var s=0;s<o.length;s++)e(o[s]);var c=a;i(i.s=372)}([function(t,e,n){"use strict";n.d(e,"j",(function(){return oe})),n.d(e,"q",(function(){return qt})),n.d(e,"s",(function(){return ce})),n.d(e,"p",(function(){return ae})),n.d(e,"o",(function(){return me})),n.d(e,"n",(function(){return ye})),n.d(e,"hc",(function(){return Oe})),n.d(e,"xb",(function(){return b})),n.d(e,"N",(function(){return x})),n.d(e,"qb",(function(){return _})),n.d(e,"ob",(function(){return j})),n.d(e,"m",(function(){return A})),n.d(e,"tb",(function(){return k})),n.d(e,"jb",(function(){return D})),n.d(e,"Z",(function(){return I})),n.d(e,"wb",(function(){return N})),n.d(e,"gb",(function(){return R})),n.d(e,"ib",(function(){return F})),n.d(e,"hb",(function(){return B})),n.d(e,"cb",(function(){return l.K})),n.d(e,"bb",(function(){return l.J})),n.d(e,"Y",(function(){return l.I})),n.d(e,"H",(function(){return l.q})),n.d(e,"M",(function(){return l.x})),n.d(e,"D",(function(){return l.m})),n.d(e,"C",(function(){return l.l})),n.d(e,"U",(function(){return l.E})),n.d(e,"V",(function(){return l.F})),n.d(e,"S",(function(){return l.C})),n.d(e,"T",(function(){return l.D})),n.d(e,"K",(function(){return l.u})),n.d(e,"L",(function(){return l.v})),n.d(e,"R",(function(){return l.B})),n.d(e,"Q",(function(){return l.A})),n.d(e,"I",(function(){return l.r})),n.d(e,"O",(function(){return l.y})),n.d(e,"P",(function(){return l.z})),n.d(e,"t",(function(){return l.d})),n.d(e,"E",(function(){return l.n})),n.d(e,"F",(function(){return l.o})),n.d(e,"v",(function(){return l.e})),n.d(e,"A",(function(){return l.j})),n.d(e,"nb",(function(){return l.P})),n.d(e,"G",(function(){return l.p})),n.d(e,"yb",(function(){return l.T})),n.d(e,"w",(function(){return l.f})),n.d(e,"x",(function(){return l.g})),n.d(e,"y",(function(){return l.h})),n.d(e,"z",(function(){return l.i})),n.d(e,"mb",(function(){return l.O})),n.d(e,"X",(function(){return l.H})),n.d(e,"W",(function(){return l.G})),n.d(e,"pb",(function(){return l.Q})),n.d(e,"zb",(function(){return l.U})),n.d(e,"fb",(function(){return l.M})),n.d(e,"rb",(function(){return l.R})),n.d(e,"B",(function(){return l.k})),n.d(e,"b",(function(){return l.a})),n.d(e,"db",(function(){return l.L})),n.d(e,"J",(function(){return l.t})),n.d(e,"r",(function(){return l.c})),n.d(e,"vb",(function(){return l.S})),n.d(e,"l",(function(){return l.b})),n.d(e,"Jb",(function(){return d.l})),n.d(e,"g",(function(){return d.i})),n.d(e,"e",(function(){return d.c})),n.d(e,"u",(function(){return d.k})),n.d(e,"d",(function(){return d.b})),n.d(e,"c",(function(){return d.a})),n.d(e,"f",(function(){return d.h})),n.d(e,"kb",(function(){return p})),n.d(e,"lb",(function(){return v})),n.d(e,"sb",(function(){return O})),n.d(e,"Bb",(function(){return E})),n.d(e,"i",(function(){return T})),n.d(e,"ub",(function(){return Te})),n.d(e,"Vb",(function(){return nt})),n.d(e,"ec",(function(){return Dt})),n.d(e,"Db",(function(){return It})),n.d(e,"Cb",(function(){return Nt})),n.d(e,"Eb",(function(){return Vt})),n.d(e,"eb",(function(){return Ft})),n.d(e,"Tb",(function(){return Bt})),n.d(e,"Pb",(function(){return $t})),n.d(e,"Hb",(function(){return Ut})),n.d(e,"Mb",(function(){return Gt})),n.d(e,"Ib",(function(){return Yt})),n.d(e,"Ob",(function(){return Kt})),n.d(e,"dc",(function(){return dt})),n.d(e,"Qb",(function(){return pt})),n.d(e,"Sb",(function(){return G})),n.d(e,"Zb",(function(){return U})),n.d(e,"fc",(function(){return W})),n.d(e,"gc",(function(){return vt})),n.d(e,"ac",(function(){return mt})),n.d(e,"bc",(function(){return yt})),n.d(e,"Ab",(function(){return Ct})),n.d(e,"cc",(function(){return Et})),n.d(e,"h",(function(){return X})),n.d(e,"Wb",(function(){return $})),n.d(e,"Fb",(function(){return K})),n.d(e,"Gb",(function(){return re})),n.d(e,"Xb",(function(){return ie})),n.d(e,"k",(function(){return ne})),n.d(e,"ab",(function(){return ue})),n.d(e,"Nb",(function(){return le})),n.d(e,"Yb",(function(){return de})),n.d(e,"Rb",(function(){return it})),n.d(e,"Lb",(function(){return se})),n.d(e,"Kb",(function(){return fe})),n.d(e,"Ub",(function(){return J})),n.d(e,"a",(function(){return wt}));n(8),n(7),n(6);var r,i,o,a,s,c=n(1),u=n(3),l=n(61),d=n(9);!function(t){t[t.TEXT=0]="TEXT",t[t.IMAGE=1]="IMAGE",t[t.VIDEO=2]="VIDEO",t[t.PROPERTY=3]="PROPERTY"}(i||(i={})),function(t){t[t.ALL=-1]="ALL",t[t.STATIC_TEMPLATE=0]="STATIC_TEMPLATE",t[t.DYNAMIC_TEMPLATE=1]="DYNAMIC_TEMPLATE",t[t.ENDCARD_TEMPLATE=2]="ENDCARD_TEMPLATE"}(o||(o={})),function(t){t[t.APP_ICON=0]="APP_ICON",t[t.APP_SCREEN=1]="APP_SCREEN",t[t.DYNAMIC_ICON=2]="DYNAMIC_ICON",t[t.DYNAMIC_IMAGE=3]="DYNAMIC_IMAGE",t[t.CALC_COLOR=4]="CALC_COLOR",t[t.DNYAMIC_TITLE=5]="DNYAMIC_TITLE"}(a||(a={})),function(t){t[t.CREATED=0]="CREATED",t[t.ONLINE=1]="ONLINE",t[t.OFFLINE=2]="OFFLINE"}(s||(s={}));var p,f=((r={})[s.CREATED]="新建",r[s.ONLINE]="上线",r[s.OFFLINE]="下线",r);!function(t){t.DATA="materialCenterData",t.BG_COLOR="bgMaterialCenterCalcColor",t.BORDER_COLOR="borderMaterialCenterCalcColor",t.TEXT_COLOR="textMaterialCenterCalcColor"}(p||(p={}));var h,g,b,v=-999,m=n(10),y="//"+m.b+"/obj/ad-pattern/static/images/",O="//"+m.b+"/obj/ad-pattern/static/recommend_app.png",w=y+"img_placeholder.png",C={titleData:"title",imageData:"image.0.url",imageGroupData:"image",videoData:"video",appIcon:"icon",buttonText:"button_text",creativeTags:"dynamic_creative.creative_tags",tableData:"dynamic_creative.live_room_data.product_infos.0.product_format"},E="creative_tags",T=(n(52),function(t){function e(e){var n=t.call(this,"AsyncImportError "+e)||this;return n.name="AsyncImportError",n}return Object(c.c)(e,t),e}(Error));!function(t){function e(e){var n=t.call(this,e)||this;return n.name="MissingKeyError",n.missingKeys=e,n}Object(c.c)(e,t)}(Error);!function(t){t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t.Inner="inner"}(h||(h={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.NIGHT=1]="NIGHT"}(b||(b={}));var _,j,S,A,x={cn:"",en:"",japan:"",korea:"",zhHant:"",th:"",vi:"",id:"",ru:"",fr:"",de:"",it:"",es:"",hi:"",pt:""};!function(t){t.STRETCH="0",t.SCROLLY="1"}(_||(_={})),function(t){t.VIDEO_BEHAVIOR="0",t.CREATIVE_BRICK="1"}(j||(j={})),function(t){t.USE_LEFT="useLeft",t.USE_RIGHT="useRight",t.USE_TOP="useTop",t.USE_BOTTOM="useBottom"}(S||(S={})),function(t){t.IMAGE="image",t.APP_ICON="app-icon",t.IMAGE_COVER="image-cover",t.IMAGE_LONG="image-long",t.IMAGE_SPLASH="image-splash",t.IMAGE_SQUARE="image-square",t.STATIC_IMAGE="static-image",t.IMAGE_WIDE="image-wide",t.SPRING_FESTIVAL_DECORATION="spring-festival-decoration-base",t.CUSTOM_COMPONENT_VESSEL="custom-component-vessel",t.VESSEL="vessel",t.SCORE_COUNT_WITH_ICON="scoreCountWithIcon"}(A||(A={}));var L,k="root",D=65536;!function(t){t[t.PARENT=0]="PARENT",t[t.LAYOUT=1]="LAYOUT",t[t.PARENT_RULE=2]="PARENT_RULE",t[t.LAYOUT_GENERATED=3]="LAYOUT_GENERATED"}(L||(L={}));var I,N,R,M,V,F,B;(g={})[L.PARENT]="父模板",g[L.LAYOUT]="LAYOUT",g[L.PARENT_RULE]="父模板(规则）",g[L.LAYOUT_GENERATED]="LAYOUT（自动生成）";!function(t){t[t.CREATE=1]="CREATE",t[t.RUNNING=2]="RUNNING",t[t.STOP=3]="STOP",t[t.NOT_USED=4]="NOT_USED",t[t.TEST=10]="TEST",t[t.PENDING=11]="PENDING",t[t.EXPERIMENT=12]="EXPERIMENT"}(I||(I={})),function(t){t.CREATED="create",t.RUNNING="running",t.STOP="stop",t.NOT_USED="not used",t.TEST="test",t.PENDING="pending",t.EXPERIMENT="experiment"}(N||(N={})),function(t){t[t.OVERSEAS=1]="OVERSEAS",t[t.INLAND=2]="INLAND"}(R||(R={})),function(t){t[t.DYNAMIC=0]="DYNAMIC",t[t.ENDCARD=1]="ENDCARD"}(M||(M={})),function(t){t[t.NOT_START=5]="NOT_START"}(V||(V={})),function(t){t.DYNAMIC_IMAGE="dynamic-image",t.STATIC_IMAGE="static-image"}(F||(F={})),function(t){t.NONE="none",t.FILL="fill",t.COVER="cover",t.CONTAIN="contain"}(B||(B={}));n(163),n(28),n(27),n(13),n(70),n(37),n(30);var P=function(){function t(t){void 0===t&&(t=b.DEFAULT),this.theme=t}return t.prototype.equalsTo=function(t){return this.theme===t.theme},t.prototype.toJSON=function(){return{theme:this.theme}},t}(),H={},z={};function U(t,e){if(H[t])throw new Error("instance has existed");H[t]=e}function G(t,e){var n=H[t];if(!n){var r=z[t];if(e&&(r=e),!r)throw new Error("此单例无默认构造器");n=new r,H[t]=n}return n}function W(t,e){z[t]=e}var X=function(){function t(){this._theme_=b.DEFAULT,this._defaultValues_=void 0,this._editable_=!1,this.adAnalysisData={},this._extension_={}}return t.prototype.setAdAnalysisData=function(t){this.adAnalysisData=Object(c.a)(Object(c.a)({},this.adAnalysisData),t)},t.prototype.getAdAnalysisData=function(){return this.adAnalysisData},Object.defineProperty(t.prototype,"isEditor",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){var t;return null===(t=this._creative_)||void 0===t?void 0:t.platform},enumerable:!0,configurable:!0}),Object.defineProperty(t,"key",{get:function(){return this._key_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._editable_},set:function(t){this._editable_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this._theme_},set:function(t){this._theme_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultValues",{get:function(){return this._defaultValues_||(this._defaultValues_=this.getDefaultDataKey()),this._defaultValues_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"creative",{get:function(){return this._creative_||(this._creative_={}),this._creative_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension_},set:function(t){this._extension_=t||{}},enumerable:!0,configurable:!0}),t.prototype.getDefaultDataKey=function(){return C},t.prototype.setDefaultDataKey=function(t){void 0===t&&(t=this.getDefaultDataKey()),this._defaultValues_=t},t.prototype.onBrickMissingKey=function(t,e,n){},t.prototype.videoHeightCanBeFlex=function(){return!1},t._key_="appManager",t}(),$=function(t){return U(X.key,t)},K=function(){return G(X.key,X)},Y=function(){function t(){this._theme=b.DEFAULT,this.listeners=[]}return Object.defineProperty(t,"key",{get:function(){return this._key_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t,this.listeners.forEach((function(e){return e&&e(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDefaultTheme",{get:function(){return this.theme===b.DEFAULT},enumerable:!0,configurable:!0}),t.prototype.listenThemeChange=function(t){this.listeners.push(t)},t.prototype.initRendererThemeData=function(t){var e,n;this.theme=null!=(n=null===(e=t)||void 0===e?void 0:e.themeStatus)?n:b.DEFAULT},t.prototype.hackBrickItemStyle=function(t){["transparent","rgba(255, 255, 255, 0)","rgba(255, 255, 255, 100)","#ffffff","#FFFFFF"].includes(t.backgroundColor)&&(t.color="#666666")},t.prototype.getThemeValues=function(t,e,n){var r,i=Object(c.a)(Object(c.a)(Object(c.a)({},n),(t.themeDefaultValues||{})[e]),t.getThemeDefaultValues(e)||{});return null===(r=t.sceneValues)||void 0===r||r.forEach((function(t){t.scene.theme===e&&Object.assign(i,t.values)})),i},t._key_="themeManager",t}(),J=function(){return G(Y.key,Y)},q=n(199),Z=n.n(q),Q=n(200),tt=n.n(Q),et=(n(17),n(18),n(57),n(22),n(26),n(25),function(t){var e=this;this.translateObj={},this.setCurrentLanguage=function(t){e.currentLanguage=t},this.getTranslateStr=function(t,n){var r;return(null===(r=e.translateObj[t])||void 0===r?void 0:r[n])||""},this.getTranslate=function(t,n){var r=e.getTranslateStr(t,e.currentLanguage);return n&&r?r.replace(/$$$/g,n):r},this.translateObj=t}),nt=function(t){return void 0===t&&(t={}),e=et.name,n=function(){return new et(t)},(r=H[e])||(r=n(),H[e]=r),r;var e,n,r},rt=function(){function t(){this.platform=u.e.UNKNOWN,this.isWebpSupported=!1}return Object.defineProperty(t,"key",{get:function(){return this._key_},enumerable:!0,configurable:!0}),t._key_="platformManager",t}(),it=function(){return G(rt.key,rt)},ot=n(54),at=n.n(ot),st=(n(201),n(138)),ct=n.n(st),ut=void 0,lt=function(t){ut=t},dt=function(t,e){if(!ut)return ut;var n=Object(u.ab)(ut,e,t);lt(n)},pt=function(){return ut||lt(K().creative),ut},ft=function(){function t(){var t=this;this.visible=!1,this.useMockData=!1,this.aiMaterialList=[],this.materialCenterOptions=[],this.getMaterialCalcColorOptions=function(e){var n=(t.aiMaterialList||[]).filter((function(n){return n.id===e||n.status===s.ONLINE&&(!!t.checkMaterialTempalteType(n)&&(n.mediaType===i.PROPERTY&&n.materialType===a.CALC_COLOR))}));return t.formatOptions(n)},this.getMaterialCenterOptions=function(e,n,r,o,c){var u=(t.aiMaterialList||[]).filter((function(u){var l,d=c.getValues();if(u.id===e)return!0;if(u.status!==s.ONLINE)return!1;if(!t.checkMaterialTempalteType(u))return!1;if(c instanceof n){var p=u.materialType===a.DYNAMIC_IMAGE||u.materialType===a.DYNAMIC_ICON,f=u.materialType===a.APP_SCREEN;return(null===(l=d)||void 0===l?void 0:l.imageType)===F.DYNAMIC_IMAGE?u.mediaType===i.IMAGE&&p&&!f:u.mediaType===i.IMAGE&&!p&&!f}return c instanceof r?u.mediaType===i.TEXT:c instanceof o?u.mediaType===i.VIDEO:void 0}));return t.formatOptions(u)},this.formatOptions=function(t){var e=t.map((function(t){var e={label:t.id+"-"+t.name,value:t.id,key:t.id};return t.status===s.OFFLINE&&(e.label+="-"+f[t.status]),e}));return e.unshift({label:"不使用",value:v}),e},this.checkMaterialTempalteType=function(t){return!0}}return Object.defineProperty(t,"key",{get:function(){return this._key_},enumerable:!0,configurable:!0}),t.prototype.initMaterialList=function(t){this.setAiMaterialList(t),this.materialCenterOptions=this.formatOptions(this.aiMaterialList)},t.prototype.setAiMaterialList=function(t){this.aiMaterialList=t},t._key_="materialCenterManager",t}();var ht=function(t){var e,n=G(ft.key,ft);if(n.useMockData)return function(t){if(t){var e=t.mediaType,n=t.materialType;switch(e){case i.VIDEO:return"http://"+m.b+"/obj/ad-pattern/vendor/images/game.mp4";case i.IMAGE:return n===a.APP_ICON||n===a.DYNAMIC_ICON?"https://"+m.b+"/obj/ad-pattern/static/icon.png":w;case i.PROPERTY:return n===a.CALC_COLOR?"[200, 122, 133]":void 0;case i.TEXT:return"物料中心文本物料"}}}(n.aiMaterialList.find((function(e){return e.id===t})))||void 0;try{return(null===(e=Object(u.N)(pt(),"dynamic_creative.material_center").find((function(e){return e.id===t})))||void 0===e?void 0:e.value)||void 0}catch(t){return}},gt=function(t){return Object.keys(t).reduce((function(e,n){var r;return Object(c.a)(Object(c.a)({},e),((r={})[n.toLowerCase()]=t[n],r))}),{})};n(184);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){function t(t){this.visible=!0,this.customProps=t}Object.defineProperty(t.prototype,"props",{get:function(){return Object.assign({},this.defaultProps,this.customProps)},enumerable:!0,configurable:!0}),t.prototype.beforeRenderHook=function(t){},t.prototype.duplicate=function(){return new(0,this.constructor)(this.customProps)},t.prototype.merge=function(t){this.customProps=Object.assign({},this.customProps,t.customProps)}})(),function(){function t(t,e){void 0===e&&(e={}),this.visible=!0,this.children=t,this.nameMap=e}t.prototype.beforeRenderHook=function(t){},t.prototype.get=function(t){var e,n,r;return Array.isArray(this.children)?null!=(n=null===(e=this.children.find((function(e){return e.type===t})))||void 0===e?void 0:e.value)?n:[]:"object"===bt(this.children)&&null!=(r=this.children[t])?r:[]}}();!function(){function t(t){this.id=t.id,this.tplId=t.tplId,this.title=t.title,this.status=t.status,this.data=t.data,this.activityStatus=t.activityStatus}Object.defineProperty(t.prototype,"editable",{get:function(){return 2===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isProduction",{get:function(){return this.activityStatus!==N.CREATED&&void 0!==this.activityStatus},enumerable:!0,configurable:!0})}();var vt=function t(e,n){n&&n(e),(e.getChildren()||[]).forEach((function(e){e.forEach((function(e){t(e,n)}))}))};function mt(t,e){if(!t)return null;if(e(t))return null;var n=t.getChildren();if(n&&n.length)for(var r=!1,i=0,o=n;i<o.length;i++){for(var a=0,s=o[i];a<s.length;a++){if(!mt(s[a],e)){r=!0;break}}if(r)break}return!0}function yt(t,e){var n;if(!t)return null;if(e(t))return null;var r=t.children;if(null===(n=r)||void 0===n?void 0:n.length)for(var i=!1,o=0,a=r;o<a.length;o++){var s=a[o];if(s){for(var c=0,u=s;c<u.length;c++){if(!yt(u[c],e)){i=!0;break}}if(i)break}}return!0}var Ot,wt;n(185);function Ct(t){switch(t){case Ot.union_splash_video:case Ot.video_i18n_square:case Ot.video_large:case Ot.video_live_stream:case Ot.video_vertical:return wt.video;case Ot.group:case Ot.large:case Ot.large_vertical:case Ot.small:case Ot.union_splash:default:return wt.image}}function Et(t,e){if(!e)return t;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];e[i]instanceof Object&&i in t&&Object.assign(e[i],Et(t[i],e[i]))}return Object.assign(t||{},e),t}!function(t){t[t.small=2]="small",t[t.large=3]="large",t[t.group=4]="group",t[t.video_large=5]="video_large",t[t.video_vertical=15]="video_vertical",t[t.large_vertical=16]="large_vertical",t[t.union_splash=131]="union_splash",t[t.union_splash_video=154]="union_splash_video",t[t.video_live_stream=166]="video_live_stream",t[t.video_i18n_square=50]="video_i18n_square"}(Ot||(Ot={})),function(t){t.image="image",t.video="video"}(wt||(wt={}));function Tt(t){return Math.ceil(16*t)/16}function _t(t,e){var n=e.map((function(t){return Object(c.a)({},t)})),r=!0,i=0,o=0;if(n.forEach((function(t){t.isFixed?i+=t.size:(r=!1,o+=t.size)}),0),r&&t>i)return n;var a=t<i?t/i:1,s=t>i?(t-i)/o:0;if(s>1){var u=!1,l=n.map((function(t){return!t.isFixed&&t.flexMaxSize&&t.size*s>t.flexMaxSize?(u=!0,{size:t.flexMaxSize,isFixed:!0}):t}));if(u)return _t(t,l)}n.forEach((function(t){t.isFixed?t.size=Tt(t.size*a):t.size=Tt(t.size*s)}));var d=n.reduce((function(t,e){return t+e.size}),0);if(d<t)for(var p=t-d,f=0;f<n.length&&p>0;){var h=n[f];(t<i&&h.isFixed||t>i&&!h.isFixed)&&(h.size+=1/16,p-=1/16),f=(f+1)%n.length}return n}var jt;n(301);!function(t){t[t.Constructor=0]="Constructor",t[t.ConstructorGetter=1]="ConstructorGetter"}(jt||(jt={}));var St,At={},xt={},Lt=function(){return At},kt=function(){if(St)return St;if(1===Object.keys(xt).length)return Object.keys(xt)[0];throw new Error("should setCurrentRenderTarget first!")},Dt=function(t){if(!Object.keys(xt).includes(t))throw new Error("please use a valid target from "+Object.keys(xt).join(", "));St=t},It=function(t,e){return xt[t]&&Object(u.bb)("have registered for "+t),xt[t]=e,function(e,n){for(var r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];Lt()[n.type]||Object(u.bb)("have to register brick by @Factory decorator first for "+n.type+" brick!");var s=(null===(i=Lt()[n.type])||void 0===i?void 0:i.platforms)||{};Lt()[n.type]={BrickClass:n,platforms:Object(c.a)(Object(c.a)({},s),(r={},r[t]={type:jt.Constructor,InstanceGetter:e},r))},o.forEach((function(r){var i;Lt()[r]={BrickClass:n,platforms:Object(c.a)(Object(c.a)({},s),(i={},i[t]={type:jt.Constructor,InstanceGetter:e},i))}}))}},Nt=function(t,e){return xt[t]&&Object(u.bb)("have registered for "+t),xt[t]=e,function(e,n){for(var r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];Lt()[n.type]||Object(u.t)((function(){return!!Lt()[n.type]}),"have to register brick by @Factory decorator first for "+n.type+" brick!");var s=(null===(i=Lt()[n.type])||void 0===i?void 0:i.platforms)||{};Lt()[n.type]={BrickClass:n,platforms:Object(c.a)(Object(c.a)({},s),(r={},r[t]={type:jt.ConstructorGetter,InstanceGetter:e},r))},o.forEach((function(r){var i;Lt()[r]={BrickClass:n,platforms:Object(c.a)(Object(c.a)({},s),(i={},i[t]={type:jt.ConstructorGetter,InstanceGetter:e},i))}}))}};function Rt(t,e,n,r){e===k&&(t=e);kt();var i=Lt()[t];if(i){var o=i.BrickClass;if(o)return new o(e,n,void 0,{parent:r})}else Object(u.bb)("has not registered "+t+" brick")}function Mt(t,e){!function(t){var e,n=null!=(e=t.values)?e:{},r=n.detailBorderRadius,i=void 0!==r&&r,o=n.borderTopLeftRadius,a=void 0===o?l.i:o,s=n.borderTopRightRadius,c=void 0===s?l.i:s,u=n.borderBottomLeftRadius,d=void 0===u?l.i:u,p=n.borderBottomRightRadius,f=[a,c,d,void 0===p?l.i:p].some((function(t){return t!==l.i}));t.values&&!0!==i&&f&&(t.values.detailBorderRadius=!0)}(t);var n=Rt(t.type,t.id,t.values,e);if(n)return t.sceneValues&&n.setSceneValues(t.sceneValues.map((function(t){return{scene:new P(t.scene.theme),values:t.values}}))),t.themeDefaultValues&&(n.themeDefaultValues=t.themeDefaultValues),n.configWithRawData(t),t.children&&n.setChildren(t.children.map((function(t){var e=[];return t.forEach((function(t){var r=Mt(t,n);r&&e.push(r)})),e}))),n}function Vt(t,e){return e&&lt(e),Mt(t)}function Ft(t){return function(e){var n={BrickClass:e};Lt()[e.type]=n,"string"==typeof t&&(Lt()[t]=n)}}n(39);var Bt=function(t){var e,n=t.split(".");switch(n[n.length-1]){case"jpg":case"jpeg":case"webp":case"gif":case"png":case"svg":e=""+y+t;break;default:e=""+y+t+".png"}return e};function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ht=/{{.*?}}/g,zt=function(t,e){var n=t.getValues(),r=n.isDataFixed,i=n.data,o=void 0===i?"":i,a=n.i18n,s=(n.bgImgUrl,n[p.DATA]);if(function(t){var e=t.getValues();if(e){var n=e[p.DATA];if(ct()(n)&&n!==v)return!0}return!1}(t)){var c=ht(Number(s));if(!at()(c)&&""!==c)return{data:c,key:"material_center"}}var l=pt(),d=function(t){var n;void 0===r||null===(n=e)||void 0===n||n(t,l)},f=o,h=nt().currentLanguage,g=K().editable?"请填充内容":"";if(r){var b=function(e){var n,r=!0,i=null===(n=e)||void 0===n?void 0:n.replace(Ht,(function(e){var n=e.replace(/[{}]/g,""),i=Object(u.N)(l,n)||t.defaultData||Object(u.N)(l,t.defaultMaterialKey);!i&&n&&d(n);var o=(i||g).toString();return o||(r=!1),o}));return{mutipleVariable:r,result:i}}(o&&""!==o.trim()?o:t.dataNeedI18n&&a&&a[h]||g),m=b.mutipleVariable,y=b.result;return{data:m?y:"",key:f}}var O=Object(u.N)(l,o)||t.defaultData||Object(u.N)(l,t.defaultMaterialKey);return!O&&o&&d(o),{data:O||g,key:f}},Ut=function(t,e){var n=nt().currentLanguage,r=t&&t[n]||e;return"string"==typeof r?r.replace(Ht,(function(t){var e=t.replace(/[{}]/g,"");return Object(u.N)(pt(),e).toString()})):""},Gt=function(t){return zt(t).key},Wt=function(t,e){var n="dynamic_creative.dynamic_image_url";t.type===A.APP_ICON&&(n="dynamic_creative.dynamic_icon_url");var r=String(Object(u.N)(pt(),n));if(function(t){var e=t.getValues();if(e){var n=e[p.DATA];if(ct()(n)&&n!==v&&e.imageType===F.DYNAMIC_IMAGE)return!0}return!1}(t)){var i=t.getValues();r=ht(Number(i.materialCenterData))||""}if("string"==typeof r&&r){var o=it().isWebpSupported?r.replace(".gif",".awebp"):r;return it().platform===u.e.ANDROID?o:o+(o.includes("?")?"&":"?")+"timestamp="+Date.now()}return e};function Xt(t){return"string"==typeof t?t:Array.isArray(t)?Xt(t[0]):"object"===Pt(t)?Xt(gt(t).url):""}function $t(t,e){var n=t.getBrickData(),r=e.imageType,i=Xt(n);return r===F.DYNAMIC_IMAGE&&(i=Wt(t,i)),i}function Kt(t){if(Array.isArray(t))return t.map((function(t){return Kt(t)}));if("object"===Pt(t))return gt(t);if("string"==typeof t){var e=t.match(/([0-9]*)-([0-9]*)$/)||[],n=(e[0],e[1]),r=void 0===n?"0":n,i=e[2],o=void 0===i?"0":i;return{url:t,width:parseFloat(r),height:parseFloat(o),uri:t}}return{url:"",width:0,height:0,uri:""}}var Yt=function(t,e){var n="";"backgroundColor"===t?n=p.BG_COLOR:"borderColor"===t?n=p.BORDER_COLOR:"color"===t&&(n=p.TEXT_COLOR);var r=e[n];return Object(u.M)(ht(Number(r))||"")||Object(u.N)(pt(),"dynamic_creative.color")};var Jt=function t(e){return!!e.some((function(t){return t.getValues().widthMode===l.U.FLEX}))||e.some((function(e){if(e.getValues().widthMode===l.U.AUTO){var n=e.getChildren();if(n&&n.every((function(e){return t(e)})))return!0}return!1}))},qt=function(){function t(t,e,n,r){this.defaultMaterialKey="",this.ignoreTextOverflow=!1,this.dataNeedI18n=!1,this.childrenEditable=!0,this.sceneValues=null,this.rendererMap={},this.id=t||Object(u.Y)();var i=this.constructor;this.type=i.type,this.privateValues=Object.assign(this.getDefaultValues(),e),this.values=Object.assign(this.getDefaultValues(),e),this.children=n||null}return Object.defineProperty(t.prototype,"defaultData",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAbsolute",{get:function(){return this.values.position===l.R.ABSOLUTE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFixed",{get:function(){return this.values.position===l.R.FIXED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightCanBeFlex",{get:function(){return this.getValues().heightMode===l.M.FLEX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthCanBeFlex",{get:function(){return this.getValues().widthMode===l.U.FLEX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLeaf",{get:function(){var t=this.getChildren();return!t||0===t.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){var t=kt();return this.getRendererAtTarget(t)},enumerable:!0,configurable:!0}),t.prototype.configWithRawData=function(t){},t.prototype.getRendererAtTarget=function(t){var e=this.rendererMap[t];return e||(e=function(t,e){var n,r,i,o=null!=e?e:kt(),a=Lt()[t],s=null===(r=null===(n=a)||void 0===n?void 0:n.platforms)||void 0===r?void 0:r[o];if(!s){var c=xt[o];if(c)return new c;throw new Error("has not registered "+t+" renderer on "+o)}if(s.type===jt.ConstructorGetter){var u=s.InstanceGetter();return a&&e&&(null===(i=a.platforms)||void 0===i?void 0:i[e])&&(a.platforms[e]={type:jt.Constructor,InstanceGetter:u}),new u}return new s.InstanceGetter}(this.type,t),this.rendererMap[t]=e),e},t.prototype.setPrivateValues=function(t){if(J().isDefaultTheme)this._setValues(this.privateValues,t);else{this.sceneValues=this.sceneValues||[];var e=this.sceneValues.find((function(t){return t.scene.theme===J().theme}));e?this._setValues(e.values,this.getThemeDiffValues(t)):this.sceneValues.push({scene:new P(J().theme),values:this._setValues({},this.getThemeDiffValues(t))})}this.setValues(t)},t.prototype.getPrivateValues=function(t){return void 0===t&&(t=J().theme),t!==b.DEFAULT?J().getThemeValues(this,t,this.privateValues):this.privateValues},t.prototype.getValues=function(t){return void 0===t&&(t=J().theme),t!==b.DEFAULT?Object(c.a)(Object(c.a)({},J().getThemeValues(this,t,this.values)),{theme:t}):this.values},t.prototype.setValues=function(t){if(J().isDefaultTheme)this._setValues(this.values,t);else{this.sceneValues=this.sceneValues||[];var e=this.sceneValues.find((function(t){return t.scene.theme===J().theme}));e?this._setValues(e.values,this.getThemeDiffValues(t)):this.sceneValues.push({scene:new P(J().theme),values:this._setValues({},this.getThemeDiffValues(t))})}},t.prototype.getThemeDiffValues=function(t){return Object(u.I)(t,this.values)},t.prototype._setValues=function(t,e){return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];Z()(t,n,r)})),t},t.prototype.getDefaultValues=function(){throw new Error("have to implement this method")},t.prototype.getThemeDefaultValues=function(t){return void 0===t&&(t=J().theme),{}},t.prototype.getDiffValues=function(){return Object(u.I)(this.privateValues,this.getDefaultValues())},t.prototype.getSceneValues=function(){return this.sceneValues},t.prototype.setSceneValues=function(t){this.sceneValues=t},t.prototype.getChildren=function(){return this.children},t.prototype.setChildren=function(t){this.children=t},t.prototype.hasChildren=function(){return!!this.children},t.prototype.insertChild=function(t){this.children=this.children||[],this.children.unshift([t])},t.prototype.appendChild=function(t){this.children=this.children||[],this.children.push([t])},t.prototype.clearChildren=function(){this.children=null},t.prototype.clearEmptyChildren=function(){this.children&&(this.children=this.children.filter((function(t){return t.length>0})))},t.prototype.duplicate=function(){var t=new(0,this.constructor)(this.id,Object(c.a)({},this.privateValues),this.children&&this.children.map((function(t){return t.map((function(t){return t.duplicate()}))})));return t.sceneValues=this.sceneValues,t.themeDefaultValues=this.themeDefaultValues,t},t.prototype.getTargetDiffValues=function(t){var e=[];t.forEach((function(t){var n=t.defaultProps;e=Object(c.f)(e,Object.keys(n))}));var n={},r=Object(u.I)(this.privateValues,this.getDefaultValues());return Object.keys(r).forEach((function(t){e.includes(t)&&(n[t]=r[t])})),n},t.prototype.toJSON=function(){var t=this.getRawJson(),e=this.getPrivateValues(),n=e.isDataFixed,r=e.data,i=void 0===r?"":r,o=e.fontModel,a=t.values.i18n;(!this.dataNeedI18n||!n||""!==i.trim()||a&&tt()(a))&&delete t.values.i18n,o!==l.t&&(delete t.values.fontWeight,delete t.values.fontSize,delete t.values.lineHeight);var s=t.values.position;if(s&&s!==l.R.DEFAULT){var c=t.values,u=c[S.USE_LEFT],d=c[S.USE_RIGHT],p=c[S.USE_TOP],f=c[S.USE_BOTTOM];u||delete t.values.left,d||delete t.values.right,p||delete t.values.top,f||delete t.values.bottom}else{["top","left","right","bottom","align","zIndex",S.USE_LEFT,S.USE_TOP,S.USE_RIGHT,S.USE_BOTTOM].forEach((function(e){delete t.values[e]}))}return this.sceneValues&&(t.sceneValues=this.sceneValues.map((function(t){return{scene:t.scene.toJSON(),values:t.values}}))),this.themeDefaultValues&&(t.themeDefaultValues=this.themeDefaultValues),this.children&&(t.children=this.children.map((function(t){return t.map((function(t){return t.toJSON()}))}))),t.values.heightMode===l.M.AUTO&&t.values.height&&delete t.values.height,this.formatJson(t)},t.prototype.getStyle=function(t){return Object(c.a)(Object(c.a)({},this.getLayoutStyle()),this.getRenderStyle())},t.prototype.getLayoutStyle=function(){var t=this.getValues(),e=t.paddingTop,n=void 0===e?l.E:e,r=t.paddingRight,i=void 0===r?l.F:r,o=t.paddingBottom,a=void 0===o?l.E:o,s=t.paddingLeft;return{paddingTop:n,paddingRight:i,paddingBottom:a,paddingLeft:void 0===s?l.F:s}},t.prototype.getRenderStyle=function(){var t=this.getValues(),e=t.borderColor,n=void 0===e?l.f:e,r=t.borderRadius,i=void 0===r?l.i:r,o=t.borderSize,a=void 0===o?l.j:o,s=t.detailBorderRadius,c=void 0!==s&&s,d=t.borderTopLeftRadius,p=void 0===d?l.i:d,f=t.borderTopRightRadius,h=void 0===f?l.i:f,g=t.borderBottomLeftRadius,b=void 0===g?l.i:g,v=t.borderBottomRightRadius,m=void 0===v?l.i:v,y=t.borderStyle,O=void 0===y?l.k:y,w=t.bgColor,C=void 0===w?l.e:w,E=(t.bgImgUrl,t.bgImgData,t.bgGradient),T=t.bgShadow,_=t.borderShadowExtent,j=void 0===_?0:_,S=t.borderCut,A=void 0!==S&&S,x={borderRadius:c?p+"px "+h+"px "+m+"px "+b+"px":i,backgroundColor:C,backgroundImage:E,boxShadow:T},L=function(t){var e=t.getValues(),n=e.bgImgUrl,r=e.bgImgData;if(r){var i=pt();return Xt(Object(u.N)(i,r))}return n?Bt(n):null}(this);return L&&Object.assign(x,{backgroundImage:"url('"+L+"')",backgroundSize:"100% 100%"}),a?Object.assign(x,{borderWidth:a,borderStyle:O,borderColor:n}):Object.assign(x,{borderWidth:0}),j&&Object.assign(x,{boxShadow:"0 0 "+j+"px "+n}),A&&Object.assign(x,{overflow:"hidden"}),x},t.prototype.getTransitionStyle=function(){var t=this.getValues(),e=t.borderSize,n=void 0===e?l.j:e,r=t.bgColorCg,i=void 0===r?l.p:r,o=t.colorCg,a=void 0===o?l.p:o,s=t.borderColorCg,c=void 0===s?l.p:s,u=[];return i&&u.push("background-color"),a&&u.push("color"),n&&c&&u.push("border-color"),{transitionStyle:{transition:u.map((function(t){return t+" "+l.T})).join(",")},transitionCgs:{backgroundColor:i,color:a,borderColor:n?c:0}}},t.prototype.getFixedPositionStyle=function(t,e){var n=this.values,r=n.left,i=void 0===r?0:r,o=n.top,a=void 0===o?0:o,s=n.bottom,c=void 0===s?0:s,u=n.right,l=void 0===u?0:u,d=n.useLeft,p=n.useBottom,f=n.useRight,h=n.useTop,g={};if(!t.parent)return g;var b=t.width,v=t.height,m=e.width,y=e.height;return d?g.left=i:f&&(g.left=m-l-b),h?g.top=a:p&&(g.top=y-c-v),g},t.prototype.getAbsolutePositionStyle=function(t){var e=this.values,n=e.left,r=void 0===n?0:n,i=e.top,o=void 0===i?0:i,a=e.bottom,s=void 0===a?0:a,c=e.right,u=void 0===c?0:c,d=e.useLeft,p=e.useBottom,f=e.useRight,h=e.useTop,g=e.align,b={};if(!t.parent)return b;var v=t.width,m=t.height,y=t.parent,O=y.width,w=y.height;return g===l.a.DEFAULT?(d?b.left=r:f&&(b.left=O-u-v),h?b.top=o:p&&(b.top=w-s-m)):g===l.a.HORIZONTAL?(b.left=(O-v)/2,h?b.top=o:p&&(b.top=w-s-m)):g===l.a.VERTICAL?(b.top=(w-m)/2,d?b.left=r:f&&(b.left=O-u-v)):g===l.a.H_AND_V&&(b.left=(O-v)/2,b.top=(w-m)/2),b},t.prototype.getAbsoluteStyle=function(t){var e=this.values,n=e.left,r=e.top,i=e.bottom,o=e.right,a=e.useLeft,s=e.useBottom,c=e.useRight,u=e.useTop,d=e.align;if(d!==l.a.H_AND_V){var p=[n,o,r,i],f=["left","right","top","bottom"];[a,c,u,s].forEach((function(e,n){if((d!==l.a.HORIZONTAL||0!==n&&1!==n)&&(d!==l.a.VERTICAL||2!==n&&3!==n)){if(d===l.a.DEFAULT){if(a&&c&&1===n)return;if(u&&s&&3===n)return}e&&t(f[n],p[n])}}))}},t.prototype.getBrickData=function(){var t=this;return zt(this,(function(e,n){K().onBrickMissingKey(e,t,n)})).data},t.prototype.isHiddenBrick=function(){return!!this.getValues().hiddenBrick},t.prototype.isNoDataBrick=function(){var t=this.getValues().data,e=this.getBrickData();return!(!t||void 0!==e&&""!==e&&null!==e)},t.prototype.getBoxSizeInfo=function(){var t=this.getValues(),e=t.marginTop,n=void 0===e?l.C:e,r=t.marginRight,i=void 0===r?l.D:r,o=t.marginBottom,a=void 0===o?l.C:o,s=t.marginLeft,c=void 0===s?l.D:s,u=t.paddingTop,d=void 0===u?l.E:u,p=t.paddingRight,f=void 0===p?l.F:p,h=t.paddingBottom,g=void 0===h?l.E:h,b=t.paddingLeft,v=void 0===b?l.F:b,m=t.borderSize,y=void 0===m?l.j:m,O=i+c,w=n+a;return{marginWE:O,marginNS:w,marginBoxWESize:f+v+2*y+O,marginBoxNSSize:d+g+2*y+w}},t.prototype.getRawJson=function(){return{id:this.id,type:this.type,values:this.getDiffValues()}},t.prototype.formatJson=function(t){return t},t.prototype.getMaxContainerSize=function(t){var e=t.maxWidth,n=t.maxHeight,r=this.getValues(),i=r.widthMode,o=r.heightMode,a=r.width,s=void 0===a?l.I:a,c=r.height,u=void 0===c?l.x:c,d=this.getBoxSizeInfo(),p=d.marginBoxWESize,f=d.marginBoxNSSize;if(s=i===l.U.FLEX||i===l.U.AUTO?e:Math.min(s,e),s-=p,o===l.M.SCALE){var h=u;(u=Math.round(s/h)+f)>n&&(u=n,s=Math.round((u-f)*h))}else u=o===l.M.AUTO||o===l.M.FLEX?n:Math.min(u,n);return{height:u,width:s+p}},t.prototype.getMaxContentSize=function(t){var e=this.getMaxContainerSize(t),n=e.height,r=e.width,i=this.getBoxSizeInfo(),o=i.marginBoxWESize;return{height:n-i.marginBoxNSSize,width:r-o}},t.prototype.getActualSize=function(t,e){var n,r=this.getMaxContentSize(e),i=r.height,o=r.width,a=t.height,s=t.width,c=e.maxHeight,u=e.maxWidth,d=this.getValues(),p=d.widthMode,f=d.heightMode,h=o,g=i,b=!1,v=!1;p===l.U.AUTO&&((null===(n=this.getChildren())||void 0===n?void 0:n.every((function(t){return Jt(t)})))?h=u:(h=s,b=!0));f===l.M.AUTO?a<=c?g=a:v=!0:f!==l.M.FIXED&&f!==l.M.FLEX||g<a&&(v=!0);var m=this.getBoxSizeInfo(),y=m.marginBoxNSSize,O=m.marginBoxWESize,w=this.getMaxContainerSize(e),C=w.height,E=w.width;return{contentWidth:h,contentHeight:g,containerWidth:Math.min(h+O,E),containerHeight:Math.min(g+y,C),shouldReflow:v,shouldReCalcChildren:b}},t}(),Zt=n(95),Qt=n.n(Zt),te={};function ee(t){var e={};return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];Object.entries(r).forEach((function(t){t[0];var r=t[1],i=r.id,o=r.val,a={type:n.slice(0,n.length-1),value:o};e[i]?e[i].push(a):e[i]=[a]}))})),e}var ne=function(){function t(){this.renderConfig={},this.template=null}return t.prototype.reset=function(){this.template=null},t.prototype.initRenderConfig=function(t){this.renderConfig=ee(t)},t.prototype.initInEditor=function(t){this.template=t;var e=Object(u.U)(t.atomData||"{}"),n=this._transferAtomConfToOriginalRenderConfig(e);this.initRenderConfig(n)},t.prototype._transferAtomConfToOriginalRenderConfig=function(t){var e={};return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];Object.entries(r).forEach((function(t){var r,i,o=t[0],a=t[1];e[n]?e[n]=Object(c.a)(Object(c.a)({},e[n]),((r={})[o]={id:a.id,val:d.k},r)):e[n]=((i={})[o]={id:a.id,val:d.k},i)}))})),e},t.prototype.getAtomConstructor=function(t,e){return qt},t.prototype.getAllValues=function(t){var e=t.getPrivateValues(),n=this.getAtomValues(t),r={};if(t instanceof oe){if(!this.getMirrorBrick(t))throw new Error("atom component init error");r=this.getMirrorBrick(t).getPrivateValues()}return{privateValues:e,brickAtomValues:n,mirrorBrickPrivateValues:r}},t.prototype.getValues=function(t){var e=this.getAllValues(t),n=e.privateValues,r=e.brickAtomValues,i=e.mirrorBrickPrivateValues;return Object(c.a)(Object(c.a)(Object(c.a)({},i),n),r)},t.prototype.getAtomValues=function(t){var e=t.id,n=this.renderConfig[e],r={};if(n)for(var i=0,o=n;i<o.length;i++){var a=o[i],s=a.type,u=a.value;r=this.modifyAtomValuesByRenderConfigItem(a,r),this.getAtomConstructor(s)&&t instanceof oe&&(r=Object(c.a)(Object(c.a)({},t.getAtomValues(u)),r))}return r},t.prototype.modifyAtomValuesByRenderConfigItem=function(t,e){var n=t.type,r=t.value;switch(n){case d.h.FONT_FAMILY:return Object(c.a)(Object(c.a)({},e),{fontFamily:d.g[r]});case d.h.BG_COLOR:return Object(c.a)(Object(c.a)({},e),{bgColor:d.d[r]});case d.h.BG_START_COLOR:return Object(c.a)(Object(c.a)({},e),{bgStartColor:d.f[r]});case d.h.BG_END_COLOR:return Object(c.a)(Object(c.a)({},e),{bgEndColor:d.e[r]})}return e},t.prototype.initMirrorBrick=function(t){var e=this,n=t.id,r=this.renderConfig[n];if(r)for(var i=0,o=r;i<o.length;i++){var a=o[i],s=a.type,c=a.value,u=this.getAtomConstructor(s,c);void 0!==u&&t instanceof oe&&this.setMirrorBrick(t,u)}var l=t.getChildren();l&&l.forEach((function(t){t.forEach((function(t){e.initMirrorBrick(t)}))}))},t.prototype.getMirrorBrickById=function(t){return te[t]},t.prototype.getMirrorBrick=function(t){var e=te[t.id];return e&&t.renderer.setReferRender(e.renderer),e},t.prototype.setMirrorBrick=function(t,e){this.setMirrorBrickCache(t,e);var n=this.getMirrorBrick(t);t.clearChildren(),["ignoreTextOverflow","dataNeedI18n","getTextStyle","getStyle"].forEach((function(e){delete t[e]})),t.ignoreTextOverflow=n.ignoreTextOverflow,t.dataNeedI18n=n.dataNeedI18n;var r=n.getChildren();return r&&r.length&&t.setChildren(Qt()(r)),n},t.prototype.delPreviewAtomBrickValues=function(t,e){var n=this.renderConfig[t.id];n&&(this.renderConfig[t.id]=n.filter((function(t){return t.type!==e})))},t.prototype.setPreviewAtomBrickValues=function(t,e,n){void 0===e&&(e=d.k);var r=n||this._getAtomName(t);if(void 0!==r){var i=this.renderConfig[t.id];if(i){var o=i.filter((function(t){return t.type===r}));o[0]?o[0].value=e:i.push({type:r,value:e})}else this.renderConfig[t.id]=[{type:r,value:e}];this.initMirrorBrick(t),this.setBrickValues(t)}},t.prototype.setBrickValuesBatch=function(t,e){t.setPrivateValues(e),this.setBrickValues(t)},t.prototype.setBrickValues=function(t){var e=this,n=this.getValues(t);if(t.setValues(n),t instanceof oe){var r=this.getMirrorBrick(t);r&&r.setValues(n)}var i=t.getChildren();i&&i.forEach((function(t){t.forEach((function(t){e.setBrickValues(t)}))}))},t.prototype.getAtomCompVal=function(t){var e=t.id,n=this.renderConfig[e];if(n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o.type,s=o.value;if(a===this._getAtomName(t))return s}},t.prototype.getAtomAreaClassName=function(t){return t instanceof oe?["atom-area"]:[]},t.prototype.setRenderStyle=function(t,e){return e},t.prototype.appendRenderConfigWhenPaste=function(t){var e=this.getAtomConf(t),n=ee(this._transferAtomConfToOriginalRenderConfig(e));Object.assign(this.renderConfig,n)},t.prototype.getDisableAttributes=function(t){var e=this.getAtomValues(t),n=Object.keys(e),r=t.getPrivateValues(),i=r.useAtomBgStartColor,o=r.useAtomBgEndColor;return!i&&!o||n.includes("bgColor")||n.push("bgColor"),n},t.prototype.getAtomConf=function(t,e,n){void 0===e&&(e={});var r=this._getAtomConf(t,e,n);return r=this.setLayoutButtonTexts(r)},t.prototype._getAtomConfOrder=function(t){return t?Object.keys(t).length+1:1},t.prototype._setAtomConf=function(t,e,n,r,i){var o;n.includes(d.b)&&(n=r);var a=i+"s",s=this._getAtomConfOrder(t[a]),c=i+"_"+s,u={id:e,val:n};1===s?t[a]=((o={})[c]=u,o):t[a][c]=u},t.prototype._getAtomConf=function(t,e,n){var r=this;void 0===e&&(e={});var i=t.id,o=t.getPrivateValues(),a=o.atomFontFamily,s=o[d.c.USE_ATOM_FONT_FAMILY],c=o.atomBgColor,u=o[d.c.USE_ATOM_BG_COLOR],l=o.atomBgStartColor,p=o[d.c.USE_ATOM_BG_START_COLOR],f=o.atomBgEndColor,h=o[d.c.USE_ATOM_BG_END_COLOR],g=o.atomBtnAnimation,b=o[d.c.USE_ATOM_BTN_ANIMATION],v=o.atomComp,m=void 0===v?[]:v;if(s&&a&&this._setAtomConf(e,i,a,d.i.FONT_FAMILY,d.h.FONT_FAMILY),u&&c&&this._setAtomConf(e,i,c,d.i.BG_COLOR,d.h.BG_COLOR),p&&l&&this._setAtomConf(e,i,l,d.i.BG_START_COLOR,d.h.BG_START_COLOR),h&&f&&this._setAtomConf(e,i,f,d.i.BG_END_COLOR,d.h.BG_END_COLOR),b&&g&&this._setAtomConf(e,i,g,d.i.BTN_ANIMATION,d.h.BTN_ANIMATION),t instanceof oe){var y=this._getAtomAllValues(t),O=this._getAtomName(t)||d.h.APP_ICON;this._setAtomConf(e,i,m,y,O)}var w=t.getChildren();return w&&w.forEach((function(n){return n.forEach((function(n){return r._getAtomConf(n,e,t)}))})),e},t.prototype.addCalcColorInMap=function(t){t&&(d.f[d.j]=t,d.e[d.j]=t)},t.prototype.setLayoutButtonTexts=function(t){return t},t.prototype._getAtomName=function(t){return d.h.APP_ICON},t.prototype._getAtomAllValues=function(t){return[]},t.prototype.setMirrorBrickCache=function(t,e){var n=t.id,r=Rt(e.type);if(!r)throw new Error("在原子化组件内使用了一个未经 factory 注册的组件！");te[n]=r},t}();W("atomManager",ne);var re=function(){return G("atomManager")},ie=function(t){return U("atomManager",t)},oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.c)(e,t),Object.defineProperty(e.prototype,"renderer",{get:function(){var t=kt();return this.getRendererAtTarget(t)},enumerable:!0,configurable:!0}),e.prototype.getDefaultValues=function(){var t;return(t={atomComp:[d.b],atomFontFamily:[d.b]})[d.c.USE_ATOM_FONT_FAMILY]=!1,t.atomCompPreview=d.k,t.atomFontFamilyPreview=d.k,t.atomBgColor=[d.b],t[d.c.USE_ATOM_BG_COLOR]=!1,t.atomBgColorPreview=d.k,t.atomBgStartColor=[d.b],t[d.c.USE_ATOM_BG_START_COLOR]=!1,t.atomBgStartColorPreview=d.k,t.atomBgEndColor=[d.b],t[d.c.USE_ATOM_BG_END_COLOR]=!1,t.atomBgEndColorPreview=d.k,t.atomBtnAnimation=[d.b],t[d.c.USE_ATOM_BTN_ANIMATION]=!1,t.atomBtnAnimationPreview=d.k,t},e.prototype.getRawJson=function(){var e=t.prototype.getRawJson.call(this);return this.toAtomJSON(e.values),e},e.prototype.toAtomJSON=function(t){var e=this.privateValues,n=e[d.c.USE_ATOM_FONT_FAMILY],r=e[d.c.USE_ATOM_BG_COLOR],i=e[d.c.USE_ATOM_BG_START_COLOR],o=e[d.c.USE_ATOM_BG_END_COLOR],a=e[d.c.USE_ATOM_BTN_ANIMATION];delete t.atomFontFamilyPreview,delete t.atomBgColorPreview,delete t.atomBgStartColorPreview,delete t.atomBgEndColorPreview,delete t.atomBtnAnimationPreview,n?delete t.fontFamily:delete t.atomFontFamily,r?delete t.bgColor:delete t.atomBgColor,i?delete t.bgColor:delete t.atomBgStartColor,o?delete t.bgColor:delete t.atomBgEndColor,a?delete t.animations:delete t.atomBtnAnimation},e.prototype.toAtomCompJSON=function(t){var e=re().getMirrorBrickById(this.id).getPrivateValues();delete t.atomCompPreview,delete t.children,delete t.animations,Object(u.I)(t,e,!0)},e.prototype.getAtomValues=function(t){throw new Error("请自行实现该方法")},e.type="atom",e}(qt);W("customComponentManager",function(){function t(){var t=this;this._rendererComponents=[],this.editable=!1,this.currentComponentId=void 0,this.getTargetComponentRecord=function(e){return t.renderComponents.find((function(t){return t.id===e.componentId}))}}return Object.defineProperty(t.prototype,"renderComponents",{get:function(){return this._rendererComponents},enumerable:!0,configurable:!0}),t.prototype.initRendererCustomComponents=function(t){this._rendererComponents=t},t.prototype.editErrorHandler=function(t){console.warn(t)},t.prototype.generateCustomComponent=function(t){var e=this.renderComponents.find((function(e){return e.id===t}));if(e)try{if(!e.componentLayout)return;var n=JSON.parse(e.componentLayout),r=Mt(n);return r.customComponentDefaultValues=n.customComponentDefaultValues,r}catch(t){return void console.error(t)}},t.prototype.fillCustomDataInComponentEditor=function(t){var e=this,n=t;return t instanceof ce&&(t.setValues(t.customComponentDefaultValues||{}),t.setPrivateValues(t.customComponentDefaultValues||{})),(n.getChildren()||[]).forEach((function(t){Array.isArray(t)&&t.forEach((function(t){e.fillCustomDataInComponentEditor(t)}))})),n},t.prototype.fillCustomData=function(t,e){var n=this,r=t;if(t instanceof ce){var i=this.generateCustomComponent(t.componentId);if(i){t.setChildren(i.getChildren()||[]),t.customComponentDefaultValues=i.customComponentDefaultValues;var o=Object(c.a)(Object(c.a)({},t.customComponentDefaultValues),t.values);t.setValues(o),t.setPrivateValues(o)}e&&e(t)}return(r.getChildren()||[]).forEach((function(t){Array.isArray(t)&&t.forEach((function(t){n.fillCustomData(t,e)}))})),r},t.prototype.isCustomComponentMissingNeededData=function(t){if(!(t instanceof ce))return!1;return function t(e){return(e.getChildren()||[]).some((function(e){return!!Array.isArray(e)&&e.some((function(e){return!(!e.getValues().isDataNeeded||!e.isNoDataBrick())||(e.hasChildren()?t(e):void 0)}))}))}(t)},t}());var ae,se=function(){return G("customComponentManager")},ce=function(t){function e(e,n,r){var i=t.call(this,e,n,r||[])||this,o=se(),a=o.currentComponentId;return o.editable?i.componentId=a:i.values=n||i.getDefaultValues(),i}return Object(c.c)(e,t),e.prototype.configWithRawData=function(e){t.prototype.configWithRawData.call(this,e);var n=e.componentId,r=e.customComponentDefaultValues;this.componentId=n,this.customComponentDefaultValues=r},e.prototype.duplicate=function(){var t=new(0,this.constructor)(this.id,Object(c.a)({},this.privateValues),this.children&&this.children.map((function(t){return t.map((function(t){return t.duplicate()}))})));return t.componentId=this.componentId,t.customComponentDefaultValues=this.customComponentDefaultValues,t.sceneValues=this.sceneValues,t.themeDefaultValues=this.themeDefaultValues,t},e.prototype.formatJson=function(e){return e=t.prototype.formatJson.call(this,e),void 0!==this.componentId&&(e.componentId=this.componentId),se().editable?e.customComponentDefaultValues=this.values:(delete e.children,delete e.customComponentDefaultValues,e.values=Object(u.I)(this.privateValues||{},this.customComponentDefaultValues||{})),e},Object.defineProperty(e.prototype,"isLeaf",{get:function(){var t=this.getChildren();return!t||0===t.length||!!this.isNoDataBrick()},enumerable:!0,configurable:!0}),e.prototype.isNoDataBrick=function(){return!!se().isCustomComponentMissingNeededData(this)||t.prototype.isNoDataBrick.call(this)},e.type=A.CUSTOM_COMPONENT_VESSEL,e}(qt),ue=function(){function t(){this._systemFontSizeRatio=0}return Object.defineProperty(t,"key",{get:function(){return this._key_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"systemFontSizeRatio",{get:function(){return this._systemFontSizeRatio},enumerable:!0,configurable:!0}),t.prototype.reset=function(){},t.prototype.getDomSize=function(t){throw new Error("should override this method in different platform")},t._key_="domSizeManager",t}(),le=function(){return G(ue.key,ue)},de=function(t){return U(ue.key,t)},pe=function(){function t(){this.hasPopupConfirm=!1}return t.prototype.cleanUpForReuse=function(){this.hasPopupConfirm=!1},Object.defineProperty(t,"key",{get:function(){return this._key_},enumerable:!0,configurable:!0}),t.prototype.generatePopupBrick=function(t){try{var e=function t(e){if(!e)return null;e.id!==k&&(e.id=Object(u.Y)());var n=e.getChildren();if(n)for(var r=0,i=n;r<i.length;r++){var o=i[r];if(o)for(var a=0,s=o;a<s.length;a++){var c=s[a];c&&t(c)}}return e}(Mt("string"==typeof t?JSON.parse(t):t));return e&&"modal-vessel"===e.type?(e.setPrivateValues({position:l.R.ABSOLUTE,modalTriggerType:j.CREATIVE_BRICK}),e):void 0}catch(t){return void console.error(t)}},t.prototype.fillPopupLayout=function(t,e){var n;if(e){var r=this.generatePopupBrick(e);if(r){this.hasPopupConfirm=!0;var i=t.getChildren()||[[]];t.setChildren(null===(n=i)||void 0===n?void 0:n.concat([[r]]))}}},t._key_="confirmPopupManager",t}(),fe=function(){return G(pe.key,pe)};!function(){function t(){var t=this;this._isInsertComponentMode_=!1,this.checkIsCanInsert=function(e){var n,r,i,o,a;if((null===(n=t.targetBrick)||void 0===n?void 0:n.id)===k&&e!==h.Inner)return{error:"根组件只能在组件内部插入元件"};if((null===(r=t.targetBrick)||void 0===r?void 0:r.type)===A.CUSTOM_COMPONENT_VESSEL&&e===h.Inner&&!se().editable)return{error:"自定义组件内不可插入其他组件"};var s=null===(i=t.targetBrick)||void 0===i?void 0:i.getValues();return(null===(o=s)||void 0===o?void 0:o.position)!==l.R.ABSOLUTE&&(null===(a=s)||void 0===a?void 0:a.position)!==l.R.FIXED||e===h.Inner?{}:{error:"绝对定位及屏幕固定组件不支持在上下左右插入组件"}},this.setTargetArea=function(e){t.targetArea=e},this.findParentBrick=function(t,e){if(e&&t)for(var n=[e];n.length;){var r=n.pop();if(!r)return;for(var i=0,o=r.getChildren()||[];i<o.length;i++)for(var a=0,s=o[i];a<s.length;a++){var c=s[a];if(c.id===t.id)return r;n.push(c)}}},this.getBrickIndex=function(t,e){for(var n=void 0,r=[t];r.length;){var i=r.pop();if(!i)return;var o=i.getChildren()||[];for(var a in o)for(var s in o[a]){var c=o[a][s];o[a][s].id===e.id&&(n=[Number(a),Number(s)]),r.push(c)}}return n},this.insertComponent=function(e,n){var r,i;if(!t.targetBrick)return n;if(t.insertType===h.Inner){var o=t.targetBrick.getChildren()||[];null===(r=o)||void 0===r||r.push([e]),t.targetBrick.setChildren(o)}var a=t.findParentBrick(t.targetBrick,n);if(!a)return n;var s=a.getChildren();if(!s)return n;var c=t.getBrickIndex(a,t.targetBrick);switch(t.insertType){case h.Top:c&&(s.splice(c[0],0,[e]),a.setChildren(s));break;case h.Left:c&&s[c[0]]&&(s[c[0]].splice(c[1],0,e),a.setChildren(s));break;case h.Right:c&&s[c[0]]&&(s[c[0]].splice(c[1]+1,0,e),a.setChildren(s));break;case h.Bottom:c&&(null===(i=s)||void 0===i||i.splice(c[0]+1,0,[e]),a.setChildren(s))}return n}}Object.defineProperty(t.prototype,"isInsertComponentMode",{get:function(){return this._isInsertComponentMode_},set:function(t){this._isInsertComponentMode_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetBrick",{get:function(){var t;return null===(t=this.targetArea)||void 0===t?void 0:t.brick},enumerable:!0,configurable:!0}),t.prototype.resetData=function(){this.targetArea=void 0,this.insertType=void 0,this.isInsertComponentMode=!1}}();!function(t){t[t.None=0]="None",t[t.HasBind=1]="HasBind",t[t.Skip=2]="Skip"}(ae||(ae={}));var he,ge,be,ve,me=function(){function t(){var t,e=this.constructor;this.title=e.title,this.subTitle=null!=(t=e.subTitle)?t:e.title,this.description=e.description}return Object.defineProperty(t.prototype,"translateValue",{get:function(){return this.translateKey?nt().getTranslate(this.translateKey):""},enumerable:!0,configurable:!0}),t.prototype.shouldRender=function(t,e,n,r){return!0},t.prototype.prepareForDestroy=function(t){if(this.delegateRenderer)return this.delegateRenderer.prepareForDestroy(t)},t.prototype.renderDidFinish=function(t,e,n,r,i){},t.prototype.styleDidChanged=function(t,e,n,r,i,o){if(void 0===o&&(o=!1),!o&&this.delegateRenderer)return this.delegateRenderer.styleDidChanged(t,e,n,r,i,o)},t.prototype.renderSelf=function(t,e,n,r){if(this.delegateRenderer)return this.delegateRenderer.render(t,e,n,r);throw new Error("请自行实现该方法")},t.prototype.bindEventListener=function(t,e,n,r,i){return ae.None},t.prototype.bindOtherListener=function(t,e,n,r,i){return{}},t.prototype.render=function(t,e,n,r){if(this.shouldRender(t,e,n,r)){var i=this.renderSelf(t,e,n,r);return this.renderDidFinish(i,t,e,n,r),this.styleDidChanged(i,t,e,n,r,!0),this.bindEventListener(i,t,e,n,r),this.bindOtherListener(i,t,e,n,r),i}},t.prototype.getContentLength=function(t,e,n){return this.delegateRenderer?this.delegateRenderer.getContentLength(t,e,n):this.contentLength?this.contentLength:void 0},t}(),ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.c)(e,t),e.prototype.setReferRender=function(t){this._referRenderer=t},e.prototype.renderSelf=function(t,e,n,r){var i=re().getMirrorBrick(t);if(!i)throw new Error("原子化组件丢失，请检查！");var o=this._referRenderer;if(o)return o.render(i,e,n,r)},e.prototype.getContentLength=function(t,e,n){var r=this._referRenderer;if(r){var i=re().getMirrorBrick(t);return r.getContentLength(i,e,n)}},e}(me),Oe=function(t){return function(e){return t.reduce((function(t,e){return e(t)}),e)}},we=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.distanceTo=function(t,e){return this.x===t?Math.abs(this.y-e):this.y===e?Math.abs(this.x-t):Math.sqrt(Math.pow(this.x-t,2)+Math.pow(this.y-e,2))},t.prototype.distanceToPoint=function(t){return this.distanceTo(t.x,t.y)},t.prototype.toString=function(){return"Point("+this.x+", "+this.y+")"},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.isSimilarTo=function(t,e){return void 0===e&&(e=1),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t}(),Ce=(n(133),function(){function t(){this._dataLenCache_={},this._brickSizeCache_={},this._groupSizeCache_={},this.id=Math.random()}return t.prototype.resetCache=function(){this._dataLenCache_={},this._brickSizeCache_={},this._groupSizeCache_={}},t.prototype._computeContentSize_=function(t,e){var n=t.getValues(),r=n.fontSize,i=void 0===r?l.u:r,o=n.lineHeight,a=void 0===o?l.B:o,s=n.letterSpacing,c=void 0===s?l.A:s,u=n.lineFeed,d=void 0!==u&&u,p=this.getDataLens(t,e),f=0,h=0;if(Array.isArray(p)){var g=1,b=le().systemFontSizeRatio;p.forEach((function(t){var n=t*i*b+c;f+=n,d&&f>e.maxWidth&&(g++,f=n)})),h=Math.floor(g*i*b*a)}else{var v=p.width,m=p.height;f=v,h=m}return{width:Math.min(f,e.maxWidth),height:Math.min(h,e.maxHeight)}},t.prototype.getDataLens=function(t,e){var n=t.id+"_"+e.maxWidth+"_"+e.maxHeight;if(this._dataLenCache_[n])return this._dataLenCache_[n];var r=this._getDataLens_(t,e);return this._dataLenCache_[n]=r,r},t.prototype._getDataLens_=function(t,e){if(Array.isArray(t.renderer.contentLength))return t.renderer.contentLength;var n=t.getValues(),r=(n.data,n.isDataFixed),i=n.fontSize,o=void 0===i?l.u:i,a=n.letterSpacing,s=void 0===a?l.A:a,c=n.fontFamily,u=void 0===c?l.r:c,d=n.lineHeight,p=void 0===d?l.B:d,f=n.fontWeight,h=void 0===f?l.v:f,g=n.lineFeed,b=void 0!==g&&g,v=n.lineLimit,m=void 0!==v&&v,y=n.lineCount,O={fontSize:o,letterSpacing:s,fontFamily:u,fontWeight:h,lineHeight:p,maxWidth:e.maxWidth},w=t.getBrickData(),C=this._getDomWidthFn_({brick:t,value:w,fontWidthStyle:O,lineFeed:b,lineLimit:m,lineCount:Number(y)}),E=r||"string"==typeof w||"number"==typeof w?C():w instanceof Array?(w=w.reduce((function(t,e){return t.length<e.length?e:t}),""),C()):[],T=t.renderer.getContentLength(t,E,C);return T||E},t.prototype._getDomWidthFn_=function(t){var e=t.value,n=t.fontWidthStyle,r=t.lineFeed,i=t.lineCount,o=t.lineLimit,a=t.brick,s=String(e);return function(t){var e=t&&"function"==typeof t?t(s):s;return le().getDomSize({str:e,style:n,lineFeed:r,lineLimit:o,lineCount:i,brick:a})}},t.prototype.getBrickSize=function(t){var e=this._getBrickCacheKey_(t);return this._brickSizeCache_[e]||null},t.prototype.getGroupSize=function(t){var e=this._getGroupCacheKey_(t);return this._groupSizeCache_[e]||null},t.prototype.computeBrickSize=function(t,e){var n=this.getBrickSize(t);return n||(n=this._computeBrickSize_(t,e),this._setBrickSizeCache_(t,n)),n},t.prototype._computeBrickSize_=function(t,e){var n=this,r=e.maxWidth,i=e.maxHeight;if(i<=0||Number.isNaN(i)||r<=0||Number.isNaN(r))return{width:0,height:0};if(t.isLeaf)return this._computeLeafBrickSize_(t,e);var o=t.getChildren(),a=t.getMaxContentSize(e),s=a.height,c=a.width,u=0,l=0;o.forEach((function(t){var e=n.computeGroupSize(t,{maxWidth:c,maxHeight:s}),r=e.width,i=e.height;Jt(t)||(u=Math.max(u,r)),l+=i}));var d=t.getActualSize({height:l,width:u},e),p=d.contentWidth,f=d.contentHeight,h=d.containerWidth,g=d.containerHeight,b=d.shouldReCalcChildren,v=d.shouldReflow;return b&&o.forEach((function(t){n._markGroupSizeDirty_(t),n.computeGroupSize(t,{maxWidth:p,maxHeight:f})})),v&&this._reflowHeight_(o,p,f),{width:h,height:g}},t.prototype._reflowHeight_=function(t,e,n){var r=this,i=t.some((function(t){return r._isHeightFlexibleGroup_(t,!1)})),o=t.map((function(t){var o=r._isHeightFlexibleGroup_(t,!i),a=r.computeGroupSize(t,{maxWidth:e,maxHeight:n});return{size:o?1:a.height,isFixed:!o}})),a=_t(n,o);t.forEach((function(t,n){o[n].size!==a[n].size&&(r._markGroupSizeDirty_(t),r.computeGroupSize(t,{maxWidth:e,maxHeight:a[n].size}))}))},t.prototype._isHeightFlexibleGroup_=function(t,e){var n=this;return void 0===e&&(e=!0),!!t.some((function(t){return t.getValues().heightMode===l.M.FLEX||!(!e||!t.heightCanBeFlex)}))||t.some((function(t){return n._brickHeightCanFlexWhenAuto_(t)}))},t.prototype._brickHeightCanFlex_=function(t){return t.getValues().heightMode===l.M.FLEX||this._brickHeightCanFlexWhenAuto_(t)},t.prototype._brickHeightCanFlexWhenAuto_=function(t){var e=this;if(t.isLeaf)return!1;if(t.getValues().heightMode!==l.M.AUTO)return!1;var n=t.getChildren();return 1===n.length?n[0].every((function(t){return e._brickHeightCanFlex_(t)})):n.some((function(t){return e._isHeightFlexibleGroup_(t)}))},t.prototype._computeLeafBrickSize_=function(t,e){if(t.isNoDataBrick()||t.isHiddenBrick())return{width:0,height:0};var n=t.getValues(),r=n.widthMode,i=void 0===r?l.U.AUTO:r,o=n.heightMode,a=void 0===o?l.M.AUTO:o,s=n.width,c=void 0===s?l.m:s,u=n.height,d=void 0===u?l.l:u,p=e.maxWidth,f=e.maxHeight,h=t.getBoxSizeInfo(),g=h.marginWE,b=h.marginNS,v=h.marginBoxWESize,m=h.marginBoxNSSize;if(i===l.U.FIXED)c=Math.min(c,p),a===l.M.AUTO&&(d=this._computeContentSize_(t,{maxWidth:c-v,maxHeight:f-m}).height+m);else if(i===l.U.AUTO){var y=this._computeContentSize_(t,{maxWidth:p-v,maxHeight:f-m}),O=y.width,w=y.height;c=O+v,a===l.M.AUTO&&(d=w+m)}else i===l.U.FLEX&&(c=p,a===l.M.AUTO&&(d=this._computeContentSize_(t,{maxWidth:p-v,maxHeight:f-m}).height+m));if(a===l.M.SCALE){var C=d;(d=Math.round((c-g)/C)+b)>f&&(d=f,c=Math.round((d-b)*C)+g)}else a===l.M.FIXED?d=Math.min(d+b,f):a===l.M.FLEX&&(d=f);return{width:c,height:d}},t.prototype.computeGroupSize=function(t,e){var n=this.getGroupSize(t);return n||(n=this._computeGroupSize_(t,e),this._setGroupSizeCache_(t,n)),n},t.prototype._computeGroupSize_=function(t,e){var n=this,r=t.filter((function(t){return t.isAbsolute||t.isFixed})),i=t.filter((function(t){return!t.isAbsolute&&!t.isFixed}));if(r.forEach((function(t){return n.computeBrickSize(t,e)})),0===i.length)return{width:0,height:0};var o=i.map((function(t){return n.computeBrickSize(t,e).width})),a=i.map((function(t,e){var n,r=t.getValues(),i=r.widthMode,a=r.width,s=i===l.U.FLEX;i===l.U.AUTO&&(s=!!(null===(n=t.getChildren())||void 0===n?void 0:n.some((function(t){return Jt(t)}))));return{size:s?a||l.q:o[e],isFixed:!s,flexMaxSize:s?o[e]:void 0}}));this._titleFlexWhenOverflow_(a,e.maxWidth,i);var s=_t(e.maxWidth,a),c=0;i.forEach((function(t,e){c+=s[e].size,o[e]!==s[e].size&&n._markBrickSizeDirty_(t)}));var u=i.every((function(t){return n._brickHeightCanFlex_(t)})),d=u?e.maxHeight:0,p=i.map((function(t,r){var i=n.computeBrickSize(t,{maxWidth:s[r].size,maxHeight:e.maxHeight}),o=i.width,a=i.height;return n._brickHeightCanFlex_(t)||(d=Math.max(d,a)),{width:o,height:a}})).map((function(t){return t.height}));return u||i.forEach((function(t,e){n._brickHeightCanFlex_(t)&&p[e]!==d&&(n._markBrickSizeDirty_(t),n.computeBrickSize(t,{maxWidth:s[e].size,maxHeight:d}))})),{width:c,height:d}},t.prototype._titleFlexWhenOverflow_=function(t,e,n){var r=0;if(t.forEach((function(t){t.isFixed&&(r+=t.size)})),r>e){var i=n.filter((function(e,n){return t[n].isFixed&&e.widthCanBeFlex})).length;if(i>0){var o=Math.ceil((r-e)/i*1e3)/1e3;n.forEach((function(e,n){t[n].isFixed&&e.widthCanBeFlex&&(t[n]=Object(c.a)(Object(c.a)({},t[n]),{size:t[n].size-o}))}))}}},t.prototype._markBrickSizeDirty_=function(t){var e=this,n=this._getBrickCacheKey_(t);delete this._brickSizeCache_[n];var r=t.getChildren();r&&r.forEach((function(t){return e._markGroupSizeDirty_(t)}))},t.prototype._markGroupSizeDirty_=function(t){var e=this,n=this._getGroupCacheKey_(t);delete this._groupSizeCache_[n],t.forEach((function(t){e._markBrickSizeDirty_(t)}))},t.prototype._getBrickCacheKey_=function(t){return t.id},t.prototype._getGroupCacheKey_=function(t){return t.map((function(t){return t.id})).join("-")},t.prototype._setBrickSizeCache_=function(t,e){var n=this._getBrickCacheKey_(t);this._brickSizeCache_[n]=e},t.prototype._setGroupSizeCache_=function(t,e){var n=this._getGroupCacheKey_(t);this._groupSizeCache_[n]=e},t}()),Ee=function(t){function e(e){var n=t.call(this,e.x,e.y,e.width,e.height)||this;return n.remainWidth=0,n.treeId=e.treeId,n.brick=e.brick||null,n.children=e.children||null,n.remainWidth=e.remainWidth||0,n.parent=e.parent,n}return Object(c.c)(e,t),Object.defineProperty(e.prototype,"isAbsolute",{get:function(){return!(!this.brick||this.brick.getPrivateValues().position!==l.R.ABSOLUTE)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFixed",{get:function(){return!(!this.brick||this.brick.getPrivateValues().position!==l.R.FIXED)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScrollY",{get:function(){return!(!this.brick||this.brick.getPrivateValues().pageMode!==_.SCROLLY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"absoluteIndex",{get:function(){return this.brick&&this.brick.getValues().zIndex||0},enumerable:!0,configurable:!0}),e.prototype.generateKey=function(){return this.treeId+"."+this.x+"."+this.y+"."+this.width+"."+this.height},e}(function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=Math.max(n,0),this.height=Math.max(r,0)}return t.prototype.toPure=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.getPeakPoint=function(){return new we(this.x,this.y)},t.prototype.getCenterPoint=function(){return new we(this.x+Math.floor(this.width/2),this.y+Math.floor(this.height/2))},t.prototype.isPointIn=function(t){return t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},t.prototype.distanceToPoint=function(t){return t.x<this.x?t.y<this.y?t.distanceTo(this.x,this.y):t.y>this.y+this.height?t.distanceTo(this.x,this.y+this.height):this.x-t.x:t.x>this.x+this.width?t.y<this.y?t.distanceTo(this.x+this.width,this.y):t.y>this.y+this.height?t.distanceTo(this.x+this.width,this.y+this.height):t.x-(this.x+this.width):t.y<this.y?this.y-t.y:t.y>this.y+this.height?t.y-(this.y+this.height):Math.max(this.x-t.x,t.x-(this.x+this.width),this.y-t.y,t.y-(this.y+this.height))},t.prototype.setRelativePositionByPoint=function(t){this.x+=t.x,this.y+=t.y},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.toString=function(){return"Area("+this.x+", "+this.y+", "+this.width+", "+this.height+")"},t}()),Te=function(){function t(t){this.setup(),t&&this.setData(t)}return t.prototype.setup=function(){this.ruler=new Ce},t.prototype.createArea=function(t){return new Ee(t)},t.prototype.createCurrentArea=function(t){t.group;var e=Object(c.e)(t,["group"]);return this.createArea(e)},t.prototype._createUpVisualArea=function(t,e){},t.prototype._createBeforeVisualAreaId=function(t,e){},t.prototype._createAfterVisualAreaId=function(t,e){},t.prototype._createDownVisualArea=function(t,e){},t.prototype.getEditable=function(){return!1},t.prototype.setViewRect=function(t){this.viewRect=t},t.prototype.getDataLens=function(t,e){return this.ruler.getDataLens(t,e)},t.prototype.clearCache=function(){this.ruler.resetCache(),le().reset()},t.prototype.repaint=function(t,e){t&&(this.data=t);var n=this.data,r=n.getValues(),i=r.width,o=void 0===i?l.I:i,a=r.height,s=void 0===a?l.x:a,c=r.heightMode;this.ruler.resetCache(),this.ruler.computeBrickSize(n,{maxWidth:o,maxHeight:c===l.M.FIXED?s:D});var u=this.ruler.getBrickSize(n);this.rootArea=this.repaintArea(this.createArea({x:e?e.x:0,y:e?e.y:0,width:u?u.width:o,height:u?u.height:s,treeId:k,remainWidth:l.N,brick:n}))},t.prototype.repaintArea=function(t,e){var n,r,i,o,a=this,s=t.brick;if(!s)return t;var c=this.isVisualArea(t),u=this.getEditable(),d=0;s.clearEmptyChildren();var p=s.getChildren();if(!p)return t;var f=s.getValues(),h=f.paddingTop,g=void 0===h?l.E:h,b=f.paddingRight,v=void 0===b?l.F:b,m=f.paddingBottom,y=void 0===m?l.E:m,O=f.paddingLeft,w=void 0===O?l.F:O,C=f.borderSize,E=void 0===C?l.j:C,T=f.justifyHorizontal,_=void 0===T?l.y:T,j=f.justifyVertical,S=void 0===j?l.z:j,A=f.alignItems,x=void 0===A?l.d:A,L=t.x+w,k=t.y+g,D=t.width-w-v-2*E,I=t.height-g-y-2*E,N=new we(L,k);t.children=[],u&&!c&&this._createUpVisualArea(t,{x:L,y:k-l.w,width:D,height:2*l.w,treeId:t.treeId+".visual."+d++,parent:t});var R=0,M=0,V=p.reduce((function(t,e){var n=a.ruler.getGroupSize(e);return t+(n?n.height:0)}),0);V<I&&(S===l.K.CENTER?R=(I-V)/2:S===l.K.FLEX_END?R=I-V:S===l.K.SPACE_AROUND?R=M=Tt((I-V)/(p.length+1)):S===l.K.SPACE_BETWEEN&&p.length>1&&(M=Tt((I-V)/(p.length-1)))),N.y+=R;for(var F=0;F<p.length;F++){var B=p[F],P=F+1;t.children[P]=[];var H=B.reduce((function(t,e){var n=e.getValues(),r=n.widthMode,i=n.position;if(r===l.U.FLEX||i===l.R.ABSOLUTE||i===l.R.FIXED)return t;var o=a.ruler.getBrickSize(e);return t+(o?o.width:0)}),0),z=Math.max(D-H,0),U=0,G=0,W=B.reduce((function(t,e){if(e.isAbsolute||e.isFixed)return t;var n=a.ruler.getBrickSize(e);return t+(n?n.width:0)}),0);W<D&&(_===l.K.CENTER?U=(D-W)/2:_===l.K.FLEX_END?U=D-W:_===l.K.SPACE_AROUND?U=G=Tt((D-W)/(B.length+1)):_===l.K.SPACE_BETWEEN&&B.length>1&&(G=Tt((D-W)/(B.length-1)))),N.x+=U;for(var X=B.reduce((function(t,e){var n,r=(null===(n=a.ruler.getBrickSize(e))||void 0===n?void 0:n.height)||0;return(e.isFixed||e.isAbsolute)&&(r=0),Math.max(t,r)}),0),$=0,K=B;$<K.length;$++){var Y=K[$],J=c||this.isCurrentVisualBrick(Y),q=this.ruler.getBrickSize(Y),Z=Y.getValues(),Q=Z.marginTop,tt=void 0===Q?l.C:Q,et=Z.marginRight,nt=void 0===et?l.D:et,rt=Z.marginBottom,it=void 0===rt?l.C:rt,ot=Z.marginLeft,at=void 0===ot?l.D:ot,st=q?q.width:0,ct=q?q.height:0,ut={x:N.x,y:N.y};if(u&&!c&&!J){var lt=Math.floor(st/3);if(Z.position===l.R.ABSOLUTE&&(ut=this.repairAbsoluteAreaXY(t,Z,{width:lt,height:ct})),Z.position===l.R.FIXED){var dt=this.ruler.getBrickSize(this.data);ut=this.repairFixedAreaXY(Z,{canvasHeight:null===(n=dt)||void 0===n?void 0:n.height,canvasWidth:null===(r=dt)||void 0===r?void 0:r.width},{width:lt,height:ct})}this._createBeforeVisualAreaId(t.children[P],{x:ut.x,y:ut.y,width:lt,height:ct,treeId:t.treeId+".visualleft."+d++,parent:t,group:B,childBrick:Y}),this._createAfterVisualAreaId(t.children[P],{x:ut.x+st-lt,y:ut.y,width:lt,height:ct,treeId:t.treeId+".visualright."+d++,parent:t,group:B,childBrick:Y})}if("root"===s.id&&(e=P),Z.position===l.R.ABSOLUTE&&(ut=this.repairAbsoluteAreaXY(t,Z,{width:st-nt-at,height:ct-tt-it})),Z.position===l.R.FIXED){dt=this.ruler.getBrickSize(this.data);ut=this.repairFixedAreaXY(Z,{canvasHeight:null===(i=dt)||void 0===i?void 0:i.height,canvasWidth:null===(o=dt)||void 0===o?void 0:o.width},{width:st-nt-at,height:ct-tt-it})}var pt=0;if(X>ct&&x!==l.J.FLEX_START)switch(x){case l.J.CENTER:pt=(X-ct)/2;break;case l.J.FLEX_END:pt=X-ct}var ft=this.repaintArea(this.createCurrentArea({x:ut.x+at,y:ut.y+tt+pt,width:st-nt-at,height:ct-tt-it,treeId:t.treeId+"."+Y.id,parent:t,brick:Y,remainWidth:z,isVisual:J,groupId:e,group:B}),e);t.children[P].push(ft),Y.isAbsolute||Y.isFixed||(N.x+=st+G)}N.x=L,N.y+=X+M,u&&!this.isVisualArea(t)&&this._createDownVisualArea(t.children[P],{x:N.x,y:N.y-l.w,width:D,height:2*l.w,treeId:t.treeId+".visual."+d++,parent:t,groups:p,group:B})}return t},t.prototype.isCurrentVisualBrick=function(t){return!1},t.prototype.isVisualArea=function(t){return!1},t.prototype.getTabularAreas=function(){var t=[];return function e(n){n.children&&n.children.forEach((function(n){n.forEach((function(n){t.push(n),e(n)}))}))}(this.rootArea),t},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,re().initMirrorBrick(this.data),re().setBrickValues(this.data),se().fillCustomData(this.data)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this.data=t,this.repaint()},t.prototype.repairFixedAreaXY=function(t,e,n){var r=t.left,i=void 0===r?0:r,o=t.top,a=void 0===o?0:o,s=t.right,c=void 0===s?0:s,u=t.bottom,l=void 0===u?0:u,d=t.useLeft,p=t.useRight,f=t.useTop,h=t.useBottom,g=0,b=0;if(d)g=i;else if(p){g=(0!==this.viewRect.width?this.viewRect.width:e.canvasWidth)-c-n.width}if(f)b=a;else if(h){b=(0!==this.viewRect.height?this.viewRect.height:e.canvasHeight)-l-n.height}return{x:g,y:b}},t.prototype.repairAbsoluteAreaXY=function(t,e,n){var r=t.x,i=t.y,o=e.left,a=void 0===o?0:o,s=e.top,c=void 0===s?0:s,u=e.right,d=void 0===u?0:u,p=e.bottom,f=void 0===p?0:p,h=e.useLeft,g=e.useRight,b=e.useTop,v=e.useBottom,m=e.align,y=void 0===m?l.a.DEFAULT:m,O=t.width,w=t.height,C=n.width,E=n.height;return y===l.a.DEFAULT?(h?r=t.x+a:g&&(r=t.x+O-d-C),b?i=t.y+c:v&&(i=t.y+w-f-E)):y===l.a.HORIZONTAL?(r=t.x+(O-C)/2,b?i=t.y+c:v&&(i=t.y+w-f-E)):y===l.a.VERTICAL?(i=t.y+(w-E)/2,h?r=t.x+a:g&&(r=t.x+O-d-C)):y===l.a.H_AND_V&&(r=t.x+(O-C)/2,i=t.y+(w-E)/2),{x:r,y:i}},t}();!function(t){t.ID="id",t.NAME="name",t.MATERIAL_TYPE="materialType",t.MEDIA_TYPE="mediaType",t.SOURCE="source",t.STATUS="status",t.TEMPLATE_TYPE="templateType",t.COVER_RATE="coverRate",t.LATEST_OPERATOR="latestOperator",t.LATEST_OP_TIME="latestOpTime"}(he||(he={})),function(t){t.NAME="name",t.PATH="path",t.SUPPORTED_TEMPLATE_TYPE="supportedTemplateType",t.SUPPORTED_SLOT_TYPE="supportedSlotType",t.MATERIAL_CATEGORY="category",t.COVERAGE="coverage",t.LATEST_OPERATOR="latestOperator",t.LATEST_OP_TIME="latestOpTime",t.MOCK_DATA="mockData",t.AVAILABLE_SUB_PATHS="availableSubPaths",t.VALUE="value"}(ge||(ge={})),function(t){t[t.FEED=1]="FEED",t[t.BANNER=2]="BANNER",t[t.SPLASH=3]="SPLASH",t[t.SCREEN=4]="SCREEN",t[t.REWARD=5]="REWARD",t[t.INTERSTITIAL=6]="INTERSTITIAL",t[t.DRAW=7]="DRAW",t[t.PRE_VIDEO=8]="PRE_VIDEO"}(be||(be={})),function(t){t[t.CREATED=0]="CREATED",t[t.ONLINE=1]="ONLINE",t[t.OFFLINE=2]="OFFLINE"}(ve||(ve={}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.dec